---
import TagPill from './TagPill.astro';

interface Props {
  title: string;
  description: string;
  pubDate: Date;
  slug: string;
  tags: string[];
}

const { title, description, pubDate, slug, tags } = Astro.props;

const formattedDate = pubDate.toLocaleDateString('en-US', {
  year: 'numeric',
  month: 'long',
  day: 'numeric',
});
---

<article class="group border border-[#2a2a2a] rounded-lg p-5 hover:border-[#7c3aed] transition-colors duration-200 hover:bg-[#1a1a1a]">
  <a href={`/blog/${slug}`} class="block">
    {tags.length > 0 && (
      <div class="flex gap-2 flex-wrap mb-3">
        {tags.map(tag => <TagPill tag={tag} />)}
      </div>
    )}
    <h2
      class="text-lg font-semibold text-[#f5f5f5] mb-1 group-hover:text-[#a78bfa] transition-colors duration-200"
      style="font-family: var(--font-display);"
    >
      {title}
    </h2>
    <p class="text-sm text-[#6b7280] mb-3 leading-relaxed">{description}</p>
    <time class="text-xs text-[#6b7280]" datetime={pubDate.toISOString()}>
      {formattedDate}
    </time>
  </a>
</article>
